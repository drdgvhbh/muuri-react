module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t){e.exports=require("react")},function(e,t,n){e.exports=n(3)()},function(e,t){e.exports=require("muuri")},function(e,t,n){"use strict";var r=n(4);function o(){}function u(){}u.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,u,i){if(i!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:u,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),u=n(1),i=n.n(u),c=n(2),a=n.n(c),f=0;var s=[],l=new Map;function p(){return 0!==s.length}function d(e,t){return l.get(e).unshift(void 0===t?null:t)}function m(e){return l.get(e)[0]}function h(e){return 0!==l.get(e).length}function y(e){return l.get(e).shift()}function b(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),u=2;u<n;u++)o[u-2]=arguments[u];return d(e,t.apply(void 0,o)),Object(r.useEffect)((function(){y(e)})),m(e)}function v(e){var t=Object(r.useMemo)((function(){return{}}),[]);return h(e)&&(t.global=m(e)),t}function g(){var e=Object(r.useMemo)((function(){return{}}),[]);return p()&&(e.consumer=s[0]),e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,u=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,u=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw u}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var M=function(e){"function"!=typeof e&&(e=function(e){return e});var t=(++f).toString();return l.set(t,[]),{setGlobal:d.bind(null,t),getGlobal:m.bind(null,t),hasGlobal:h.bind(null,t),useGlobalHook:b.bind(null,t,e),useGlobalReference:v.bind(null,t)}}((function(e,t){var n=Object(r.useMemo)((function(){return new k(t)}),[]);return Object(r.useEffect)((function(){return n.setMuuri(e.current)}),[]),Object(r.useEffect)((function(){return n.refreshRequestedItems()})),n})),E=M.useGlobalHook,w=M.getGlobal,D=M.hasGlobal,k=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.itemsMap=t,this.refreshRequests=[]}var t,n,r;return t=e,(n=[{key:"setMuuri",value:function(e){this.muuri=e}},{key:"addRefreshRequest",value:function(e){this.refreshRequests.push(e)}},{key:"refreshRequestedItems",value:function(){var e=this;0!==this.refreshRequests.length&&(this.refreshRequests.forEach((function(t){return e.refresh(t)})),this.refreshRequests=[],this.muuri.layout())}},{key:"refreshItem",value:function(e){this.refresh(e),this.muuri.layout()}},{key:"refresh",value:function(e){var t=this.itemsMap.getDOMItem(e);t&&this.muuri.refreshItems(t)}}])&&j(t.prototype,n),r&&j(t,r),e}();function T(e){var t=g(),n=O(Object(r.useMemo)((function(){!function(){if(!D()||!p())throw new Error("This custom hook can be called only by a Component inside a MuuriComponent.")}();var e=w();return[function(){D()?e.addRefreshRequest(t.consumer):e.refreshItem(t.consumer)},{mounting:!0}]}),[]),2),o=n[0],u=n[1];return Object(r.useEffect)((function(){u.mounting?u.mounting=!1:o()}),e),o}var I=function(e){var t,n=e.children,o=e.index;return t=o,s.unshift(void 0===t?null:t),Object(r.useEffect)((function(){s.shift()})),n};function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}I.propTypes={index:i.a.number};var A=Object(r.forwardRef)((function(e,t){var n=e.children,u=e.gridProps,i=void 0===u?{}:u;return o.a.createElement("div",R({},i,{ref:t}),r.Children.map(n,(function(e,t){return o.a.createElement(I,{key:e.key,index:t},e)})))}));function P(e){return void 0!==e.key}function C(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function S(e){return Array.from(e.children)}function x(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}A.propTypes={gridProps:i.a.object};var q=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.DOMItems=[],this.components=[]}var t,n,r;return t=e,(n=[{key:"add",value:function(e,t){this.components=x(e),this.DOMItems=x(t)}},{key:"getDOMItem",value:function(e){return this.DOMItems[e]}},{key:"getProps",value:function(e){var t=this.components[e];return t&&t.props}},{key:"getPropsFromDOMItem",value:function(e){var t=this.DOMItems.indexOf(e);if(t>-1)return this.getProps(t)}}])&&_(t.prototype,n),r&&_(t,r),e}(),G=Object(r.forwardRef)((function(e,t){var n=e.children,u=e.options,i=e.gridProps,c=e.onMount,f=e.onUnmount,s=e.filter,l=e.sort,p=e.filterOptions,d=e.sortOptions,m=e.propsAsSortData,h=Object(r.useRef)(),y=Object(r.useRef)(),b=Object(r.useMemo)((function(){return{muuri:void 0,oldChildren:[],itemsMap:new q,addedDep:{},removedDep:{}}}),[]),v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=[],o=t.filter((function(t,r){return(!P(t)||e.every((function(e){return e.key!==t.key})))&&n.push(r)})),u=e.filter((function(e,n){return(!P(e)||t.every((function(t){return t.key!==e.key})))&&r.push(n)})),i=e.concat(o);return{indicesToRemove:n,indicesToAdd:r,removedChildren:o,addedChildren:u,allChildren:i}}(n=o.a.Children.toArray(n),b.oldChildren),g=v.indicesToAdd,O=v.indicesToRemove,j=v.allChildren;return b.oldChildren=n,g.length&&(b.addedDep={}),O.length&&(b.removedDep={}),Object(r.useEffect)((function(){var e,t;return(u=u||{}).items||(u.items=[]),u.dragContainer=h.current,u.sortData=Object.assign(u.sortData||{},(e=b.itemsMap,t=m,Array.isArray(t)&&0!==t.length?t.reduce((function(t,n){return t[n]=function(t,r){var o=e.getPropsFromDOMItem(r);return o?o[n]:void 0},t}),{}):{})),b.muuri=new a.a(h.current,u),function(){b.muuri.destroy()}}),[]),Object(r.useEffect)((function(){return y.current=b.muuri,t&&(t.current=b.muuri),"function"==typeof c&&c(b.muuri),function(){y.current=void 0,t&&(t.current=void 0),"function"==typeof f&&f(b.muuri)}}),[]),Object(r.useEffect)((function(){b.DOMItems=S(b.muuri.getElement()),b.itemsMap.add(j,b.DOMItems)})),E(y,b.itemsMap),Object(r.useEffect)((function(){!function(e,t,n){if(0!==t.length)for(var r=0;r<t.length;r++)e.add(t[r],{index:n[r]})}(b.muuri,function(e,t){return t.map((function(t){return e[t]}))}(b.DOMItems,g),function(e,t){for(var n=C(e),r=0;r<e.length;r++)for(var o=0;o<t.length;o++)e[r]>t[o]&&n[r]++;return n}(g,O))}),[b.addedDep]),Object(r.useEffect)((function(){s?b.muuri.filter(s,p):b.muuri.filter((function(){return!0}))}),[s,p,b.addedDep]),Object(r.useEffect)((function(){l&&b.muuri.sort(l,d)}),[l,d,b.addedDep]),Object(r.useEffect)((function(){var e,t,n;e=b.muuri,t=b.DOMItems,0!==(n=O.length)&&(t=t.slice(-n),e.hide(t,{onFinish:function(n){e.remove(n,{layout:!1}),t.forEach((function(e){return e.style.display="none"}))}}))}),[b.removedDep]),o.a.createElement(A,{gridProps:i,ref:h},j)}));G.propTypes={options:i.a.object,gridProps:i.a.object,onMount:i.a.func,onUnmount:i.a.func,filter:i.a.oneOf([i.a.string,i.a.func]),sort:i.a.oneOf([i.a.string,i.a.func,i.a.array]),filterOptions:i.a.object,sortOptions:i.a.object,propsAsSortData:i.a.arrayOf(i.a.string)},n.d(t,"MuuriComponent",(function(){return G})),n.d(t,"useRefresh",(function(){return T}))}]);